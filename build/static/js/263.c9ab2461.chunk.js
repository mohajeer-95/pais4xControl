"use strict";(self.webpackChunkstarter_bt5=self.webpackChunkstarter_bt5||[]).push([[263],{6742:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(5043);t(579);const r=(0,s.createContext)(),n=()=>(0,s.useContext)(r)},3263:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var s=t(5043),r=t(3216),n=t(6742),l=t(7426),i=t(579);const o={loaderContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}},c=()=>{const[e,a]=(0,s.useState)(""),[t,c]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),[h,p]=(0,s.useState)(!1),{login:u,isAuthenticated:x}=(0,n.A)(),f=(0,r.Zp)();(0,s.useEffect)((()=>{f("/starter")}),[]);return(0,i.jsx)("div",{className:"container d-flex justify-content-center align-items-center min-vh-100",children:h?(0,i.jsx)("div",{className:"card shadow-lg",style:{maxWidth:"400px",width:"100%"},children:(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsx)("h3",{className:"card-title text-center",children:"Admin Login"}),(0,i.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const s=new Headers;s.append("Content-Type","application/json");const r={method:"POST",headers:s,body:JSON.stringify({email:e,password:t}),redirect:"follow"};try{const e=await fetch("https://lab.app2serve.com/public/api/admin/login",r),a=await e.json();a.token?(u(a.token),f("/starter")):m("Login failed: Invalid email or password")}catch(d){m("Login failed: ".concat(d.message))}},children:[(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,i.jsx)("input",{type:"email",id:"email",className:"form-control",value:e,onChange:e=>a(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,i.jsx)("input",{type:"password",id:"password",className:"form-control",value:t,onChange:e=>c(e.target.value),required:!0})]}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"}),d&&(0,i.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:d})]})]})}):(0,i.jsxs)("div",{style:o.loaderContainer,children:[(0,i.jsx)(l.A,{color:"primary"}),(0,i.jsx)("p",{children:"Loading..."})]})})}}}]);
//# sourceMappingURL=263.c9ab2461.chunk.js.map