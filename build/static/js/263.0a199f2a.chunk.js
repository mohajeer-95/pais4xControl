"use strict";(self.webpackChunkstarter_bt5=self.webpackChunkstarter_bt5||[]).push([[263],{3263:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var s=t(5043),l=t(3216),r=t(6742),n=t(7426),i=t(579);const o={loaderContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"100vh"}},c=()=>{const[e,a]=(0,s.useState)(""),[t,c]=(0,s.useState)(""),[d,C]=(0,s.useState)(""),[m,h]=(0,s.useState)(!1),{login:p,isAuthenticated:u}=(0,r.A)(),x=(0,l.Zp)();(0,s.useEffect)((()=>{h(!0),u&&(console.log("CCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCCC",u),x("/starter"),h(!1))}),[]);return(0,i.jsx)("div",{className:"container d-flex justify-content-center align-items-center min-vh-100",children:m?(0,i.jsx)("div",{className:"card shadow-lg",style:{maxWidth:"400px",width:"100%"},children:(0,i.jsxs)("div",{className:"card-body",children:[(0,i.jsx)("h3",{className:"card-title text-center",children:"Admin Login"}),(0,i.jsxs)("form",{onSubmit:async a=>{a.preventDefault();const s=new Headers;s.append("Content-Type","application/json");const l={method:"POST",headers:s,body:JSON.stringify({email:e,password:t}),redirect:"follow"};try{const e=await fetch("https://lab.app2serve.com/public/api/admin/login",l),a=await e.json();a.token?(p(a.token),x("/starter")):C("Login failed: Invalid email or password")}catch(d){C("Login failed: ".concat(d.message))}},children:[(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),(0,i.jsx)("input",{type:"email",id:"email",className:"form-control",value:e,onChange:e=>a(e.target.value),required:!0})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,i.jsx)("input",{type:"password",id:"password",className:"form-control",value:t,onChange:e=>c(e.target.value),required:!0})]}),(0,i.jsx)("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"}),d&&(0,i.jsx)("div",{className:"alert alert-danger mt-3",role:"alert",children:d})]})]})}):(0,i.jsxs)("div",{style:o.loaderContainer,children:[(0,i.jsx)(n.A,{color:"primary"}),(0,i.jsx)("p",{children:"Loading..."})]})})}}}]);
//# sourceMappingURL=263.0a199f2a.chunk.js.map